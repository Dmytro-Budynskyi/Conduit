(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{6281:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/login",function(){return n(4567)}])},9608:function(e,r,n){"use strict";var t=n(5893);n(7294);r.Z=function(e){var r=e.errors;return(0,t.jsx)("ul",{className:"error-messages",children:Object.keys(r).map((function(e){return(0,t.jsxs)("li",{children:[e,":",(0,t.jsx)("ul",{children:(0,t.jsx)("li",{children:r[e]})})]},e)}))})}},4471:function(e,r,n){"use strict";n.d(r,{Z:function(){return g}});var t=n(5893),s=n(9008),a=n(7294),i=n(7954),o=n(5666),l=n.n(o),c=n(1163),u=n(9856),f=n(9608),d=n(7161),h=n(1682);function m(e,r,n,t,s,a,i){try{var o=e[a](i),l=o.value}catch(c){return void n(c)}o.done?r(l):Promise.resolve(l).then(t,s)}function v(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=[],t=!0,s=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done)&&(n.push(i.value),!r||n.length!==r);t=!0);}catch(l){s=!0,a=l}finally{try{t||null==o.return||o.return()}finally{if(s)throw a}}return n}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function(e){var r,n=e.register,s=void 0!==n&&n,i=v(a.useState(!1),2),o=i[0],x=i[1],p=v(a.useState([]),2),g=p[0],j=p[1],N=v(a.useState(""),2),b=N[0],w=N[1],y=v(a.useState(""),2),k=y[0],_=y[1],S=v(a.useState(""),2),C=S[0],Z=S[1],E=a.useCallback((function(e){return w(e.target.value)}),[w]),P=a.useCallback((function(e){return _(e.target.value)}),[]),T=a.useCallback((function(e){return Z(e.target.value)}),[]),O=(r=l().mark((function e(r){var n,t,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),x(!0),e.prev=2,!s){e.next=14;break}return e.next=8,d.Z.register(b,k,C);case 8:a=e.sent,n=a.data,t=a.status,e.next=21;break;case 14:return e.next=17,d.Z.login(k,C);case 17:i=e.sent,n=i.data,t=i.status;case 21:if(200!==t&&(null===n||void 0===n?void 0:n.errors)&&j(n.errors),!(null===n||void 0===n?void 0:n.user)){e.next=26;break}return e.next=25,(0,u.uh)(n,j);case 25:c.default.push("/");case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(2),console.error(e.t0);case 31:return e.prev=31,x(!1),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[2,28,31,34]])})),function(){var e=this,n=arguments;return new Promise((function(t,s){var a=r.apply(e,n);function i(e){m(a,t,s,i,o,"next",e)}function o(e){m(a,t,s,i,o,"throw",e)}i(void 0)}))});return(0,h.hy)(O),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z,{errors:g}),(0,t.jsx)("form",{onSubmit:O,children:(0,t.jsxs)("fieldset",{children:[s&&(0,t.jsx)("fieldset",{className:"form-group",children:(0,t.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Username",value:b,onChange:E})}),(0,t.jsx)("fieldset",{className:"form-group",children:(0,t.jsx)("input",{className:"form-control form-control-lg",type:"email",placeholder:"Email",value:k,onChange:P})}),(0,t.jsx)("fieldset",{className:"form-group",children:(0,t.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",value:C,onChange:T})}),(0,t.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:o,children:"".concat(s?"Sign up":"Sign in")})]})})]})},p=n(9139),g=function(e){var r=e.register,n=void 0!==r&&r,o=n?"Sign up":"Sign in";return function(){var e=a.useContext(h.Il).setTitle;return a.useEffect((function(){e(o)}),[e]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.default,{children:(0,t.jsx)("meta",{name:"description",content:n?"Please register before login":"Please login to use fully-featured next-realworld site. (Post articles, comments, and like, follow etc.)"})}),(0,t.jsx)("div",{className:"auth-page",children:(0,t.jsx)("div",{className:"container page",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[(0,t.jsx)("h1",{className:"text-xs-center",children:o}),(0,t.jsx)("p",{className:"text-xs-center",children:(0,t.jsxs)(i.Z,{href:n?p.Z.userLogin():p.Z.userNew(),children:["".concat(n?"Have":"Need")," an account?"]})}),(0,t.jsx)(x,{register:n})]})})})})]})}}},4567:function(e,r,n){"use strict";n.r(r);var t=n(4471);r.default=(0,t.Z)({})}},function(e){e.O(0,[774,888,179],(function(){return r=6281,e(e.s=r);var r}));var r=e.O();_N_E=r}]);